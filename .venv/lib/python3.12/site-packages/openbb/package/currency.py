"""Autogenerated OpenBB /currency Module."""

### THIS FILE IS AUTO-GENERATED. DO NOT EDIT. ###

#  pylint: disable=R0917,C0103,C0415

from openbb_core.app.static.container import Container
from openbb_core.app.model.obbject import OBBject
from typing import Annotated, Union, Optional, Literal
from openbb_core.app.static.utils.decorators import exception_handler, validate

from openbb_core.app.static.utils.filters import filter_inputs


from openbb_core.app.model.field import OpenBBField


class ROUTER_currency(Container):
    """/currency
    /price
    search
    snapshots
    """

    def __repr__(self) -> str:
        return self.__doc__ or ""

    @property
    def price(self):
        """Router for /currency/price."""
        from . import currency_price

        return currency_price.ROUTER_currency_price(command_runner=self._command_runner)

    @exception_handler
    @validate
    def search(
        self,
        query: Annotated[
            str | None,
            OpenBBField(
                description='Query to search for currency pairs.'
            )
        ] = None,
        provider: Annotated[
            Optional[Literal['fmp', 'intrinio', 'polygon']],
            OpenBBField(
                description=(
                    'The provider to use, by default None. If None, the'
                    'priority list configured in the settings is used.'
                    'Default priority: fmp, intrinio, polygon.'
                )
            )
        ] = None,
        **kwargs
    ) -> OBBject:
        """Currency Search.

Search available currency pairs.
Currency pairs are the national currencies from two countries coupled for trading on
the foreign exchange (FX) marketplace.
Both currencies will have exchange rates on which the trade will have its position basis.
All trading within the forex market, whether selling, buying, or trading, will take place through currency pairs.
(ref: Investopedia)
Major currency pairs include pairs such as EUR/USD, USD/JPY, GBP/USD, etc.


Parameters
----------
provider : str
    The provider to use, by default None. If None, the priority list configured in the settings is used. Default priority: fmp, intrinio, polygon.
query : str | None
    Query to search for currency pairs.

Returns
-------
OBBject
    results : list[CurrencyPairs]
        Serializable results.
    provider : Optional[str]
        Provider name.
    warnings : Optional[list[Warning_]]
        list of warnings.
    chart : Optional[Chart]
        Chart object.
    extra : dict[str, Any]
        Extra info.

CurrencyPairs
-------------
symbol : str
    Symbol representing the entity requested in the data.
name : str | None
    Name of the currency pair.
from_currency : str | None
    Base currency of the currency pair. (provider: fmp)
to_currency : str | None
    Quote currency of the currency pair. (provider: fmp)
from_name : str | None
    Name of the base currency. (provider: fmp)
to_name : str | None
    Name of the quote currency. (provider: fmp)
base_currency : str | None
    ISO 4217 currency code of the base currency. (provider: intrinio)
quote_currency : str | None
    ISO 4217 currency code of the quote currency. (provider: intrinio)
currency_symbol : str | None
    The symbol of the quote currency. (provider: polygon)
base_currency_symbol : str | None
    The symbol of the base currency. (provider: polygon)
base_currency_name : str | None
    Name of the base currency. (provider: polygon)
market : str | None
    Name of the trading market. Always 'fx'. (provider: polygon)
locale : str | None
    Locale of the currency pair. (provider: polygon)
last_updated : date | None
    The date the reference data was last updated. (provider: polygon)
delisted : date | None
    The date the item was delisted. (provider: polygon)

Examples
--------
>>> from openbb import obb
>>> obb.currency.search()
>>> # Search for 'EUR' currency pair using 'intrinio' as provider.
>>> obb.currency.search(query='EUR')
>>> # Search for terms  using 'polygon' as provider.
>>> obb.currency.search(query='EUR')

        """  # noqa: E501 # pylint: disable=line-too-long

        return self._run(
            "/currency/search",
            **filter_inputs(
                provider_choices={
                    "provider": self._get_provider(
                        provider,
                        "currency.search",
                        ('fmp', 'intrinio', 'polygon'),
                    )
                },
                standard_params={
                    "query": query,
                },
                extra_params=kwargs,
            )
        )

    @exception_handler
    @validate
    def snapshots(
        self,
        base: Annotated[
            Union[str, list[str]],
            OpenBBField(
                description=(
                    'The base currency symbol. Multiple comma separated'
                    'items allowed for provider(s): fmp, polygon.'
                )
            )
        ] = 'usd',
        quote_type: Annotated[
            Literal['direct', 'indirect'],
            OpenBBField(
                description=(
                    'Whether the quote is direct or indirect. Selecting'
                    "'direct' will return the exchange rate as the"
                    'amount of domestic currency required to buy one'
                    "unit of the foreign currency. Selecting 'indirect'"
                    '(default) will return the exchange rate as the'
                    'amount of foreign currency required to buy one'
                    'unit of the domestic currency.'
                )
            )
        ] = 'indirect',
        counter_currencies: Annotated[
            str | list[str] | None,
            OpenBBField(
                description=(
                    'An optional list of counter currency symbols to'
                    'filter for. None returns all.'
                )
            )
        ] = None,
        provider: Annotated[
            Optional[Literal['fmp', 'polygon']],
            OpenBBField(
                description=(
                    'The provider to use, by default None. If None, the'
                    'priority list configured in the settings is used.'
                    'Default priority: fmp, polygon.'
                )
            )
        ] = None,
        **kwargs
    ) -> OBBject:
        """Snapshots of currency exchange rates from an indirect or direct perspective of a base currency.

Parameters
----------
provider : str
    The provider to use, by default None. If None, the priority list configured in the settings is used. Default priority: fmp, polygon.
base : str | list[str]
    The base currency symbol. Multiple comma separated items allowed for provider(s): fmp, polygon.
quote_type : str
    Whether the quote is direct or indirect. Selecting 'direct' will return the exchange rate as the amount of domestic currency required to buy one unit of the foreign currency. Selecting 'indirect' (default) will return the exchange rate as the amount of foreign currency required to buy one unit of the domestic currency.
counter_currencies : str | list[str] | None
    An optional list of counter currency symbols to filter for. None returns all.

Returns
-------
OBBject
    results : list[CurrencySnapshots]
        Serializable results.
    provider : Optional[str]
        Provider name.
    warnings : Optional[list[Warning_]]
        list of warnings.
    chart : Optional[Chart]
        Chart object.
    extra : dict[str, Any]
        Extra info.

CurrencySnapshots
-----------------
base_currency : str
    The base, or domestic, currency.
counter_currency : str
    The counter, or foreign, currency.
last_rate : float
    The exchange rate, relative to the base currency. Rates are expressed as the amount of foreign currency received from selling one unit of the base currency, or the quantity of foreign currency required to purchase one unit of the domestic currency. To inverse the perspective, set the 'quote_type' parameter as 'direct'.
open : float | None
    The open price.
high : float | None
    The high price.
low : float | None
    The low price.
close : float | None
    The close price.
volume : int | None
    The trading volume.
prev_close : float | None
    The previous close price.
change : float | None
    The change in the price from the previous close. (provider: fmp, polygon)
change_percent : float | None
    The change in the price from the previous close, as a normalized percent. (provider: fmp);
    The percentage change in price from the previous day. (provider: polygon)
ma50 : float | None
    The 50-day moving average. (provider: fmp)
ma200 : float | None
    The 200-day moving average. (provider: fmp)
year_high : float | None
    The 52-week high. (provider: fmp)
year_low : float | None
    The 52-week low. (provider: fmp)
last_rate_timestamp : datetime | None
    The timestamp of the last rate. (provider: fmp)
vwap : float | None
    The volume-weighted average price. (provider: polygon)
prev_open : float | None
    The previous day's opening price. (provider: polygon)
prev_high : float | None
    The previous day's high price. (provider: polygon)
prev_low : float | None
    The previous day's low price. (provider: polygon)
prev_volume : float | None
    The previous day's volume. (provider: polygon)
prev_vwap : float | None
    The previous day's VWAP. (provider: polygon)
bid : float | None
    The current bid price. (provider: polygon)
ask : float | None
    The current ask price. (provider: polygon)
minute_open : float | None
    The open price from the most recent minute bar. (provider: polygon)
minute_high : float | None
    The high price from the most recent minute bar. (provider: polygon)
minute_low : float | None
    The low price from the most recent minute bar. (provider: polygon)
minute_close : float | None
    The close price from the most recent minute bar. (provider: polygon)
minute_volume : float | None
    The volume from the most recent minute bar. (provider: polygon)
minute_vwap : float | None
    The VWAP from the most recent minute bar. (provider: polygon)
minute_transactions : float | None
    The number of transactions in the most recent minute bar. (provider: polygon)
quote_timestamp : datetime | None
    The timestamp of the last quote. (provider: polygon)
minute_timestamp : datetime | None
    The timestamp for the start of the most recent minute bar. (provider: polygon)
last_updated : datetime | None
    The last time the data was updated. (provider: polygon)

Examples
--------
>>> from openbb import obb
>>> obb.currency.snapshots()
>>> # Get exchange rates from USD and XAU to EUR, JPY, and GBP using 'fmp' as provider.
>>> obb.currency.snapshots(base='USD,XAU', counter_currencies='EUR,JPY,GBP', quote_type='indirect')

        """  # noqa: E501 # pylint: disable=line-too-long

        return self._run(
            "/currency/snapshots",
            **filter_inputs(
                provider_choices={
                    "provider": self._get_provider(
                        provider,
                        "currency.snapshots",
                        ('fmp', 'polygon'),
                    )
                },
                standard_params={
                    "base": base,
                    "quote_type": quote_type,
                    "counter_currencies": counter_currencies,
                },
                extra_params=kwargs,
                info={'base': {'fmp': {'multiple_items_allowed': True, 'choices': None}, 'polygon': {'multiple_items_allowed': True, 'choices': None}}},
            )
        )
